<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Танцевальные стили - Танцевальная студия</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <a href="/" style="text-decoration: none; color: inherit;">Танцевальная студия</a>
            </div>
            <nav>
                <ul>
                    <li><a href="/">Главная</a></li>
                    <li><a href="/schedule">Расписание</a></li>
                    <li><a href="/coaches">Тренеры</a></li>
                    <li><a href="/prices">Цены</a></li>
                    {% if is_authenticated %}
                        <li>
                            <div class="user-info">
                                <a href="/profile" class="btn-profile">
                                    <span class="user-name">{{ current_user_name }}</span>
                                </a>
                            </div>
                        </li>
                        <li><a href="/logout" class="btn-logout">Выйти</a></li>
                    {% else %}
                        <li><a href="/login" class="btn-login">Вход</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </header>

    <main class="dances-main">
        <section class="dances-hero">
            <div class="container">
                <h1>Танцевальные направления</h1>
                <p>Откройте для себя мир современных танцевальных стилей и найдите свой уникальный путь к самовыражению</p>
            </div>
        </section>

        <section class="filter-section">
            <div class="container">
                <h2>Выберите направление</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterStyles('all')">Все стили</button>
                    <button class="filter-btn" onclick="filterStyles('street')">Уличные стили</button>
                    <button class="filter-btn" onclick="filterStyles('female')">Женственные стили</button>
                    <button class="filter-btn" onclick="filterStyles('contemporary')">Современные</button>
                    <button class="filter-btn" onclick="filterStyles('beginner')">Для начинающих</button>
                </div>
            </div>
        </section>

        <section class="container" id="styles">
            <div id="loading" class="loading">
                <div class="loader"></div>
                <p>Загружаем информацию о танцевальных стилях...</p>
            </div>

            <div id="dance-styles-container" class="dance-styles" style="display: none;">
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Танцевальная студия</h3>
                    <p>Раскройте свой танцевальный потенциал вместе с нами!</p>
                    <p>Мы обучаем современным направлениям танцев для всех уровней подготовки.</p>
                </div>
                <div class="footer-section">
                    <h3>Контакты</h3>
                    <p>Email: info@dance-studio.ru</p>
                    <p>Телефон: +7 (999) 123-45-67</p>
                    <p>Адрес: Москва, ул. Танцевальная, 15</p>
                    <p>Часы работы: Пн-Вс 9:00-22:00</p>
                </div>
                <div class="footer-section">
                    <h3>Быстрые ссылки</h3>
                    <p><a href="/">Главная</a></p>
                    <p><a href="#styles">Стили танцев</a></p>
                    <p><a href="#schedule">Расписание</a></p>
                    <p><a href="/coaches">Наши тренеры</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Танцевальная студия. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <script>
        const danceStylesData = [
            {
                id: 1,
                name: "Хип-хоп (Hip-Hop)",
                image: "/static/images/dances_style/hip-hop.jpg",
                origin: "США, 1970-е",
                description: "Уличный танец, часть хип-хоп культуры. Включает стили: breaking, locking, popping. Характеризуется энергичностью, акробатическими элементами и свободной импровизацией.",
                difficulty: "medium",
                musicType: "Hip-Hop, R&B",
                details: "https://labocadance.ru/stati/chto-takoe-hip-hop/",
                category: "street",
                level: "medium"
            },
            {
                id: 2,
                name: "Гёрли хип-хоп (Girly Hip-Hop)",
                image: "/static/images/dances_style/girly hip-hop.jpg",
                origin: "США, 2000-е",
                description: "Женственное направление хип-хопа с плавными, волнообразными движениями. Сочетает хип-хоп основы с элементами джаз-фанка и вога. Идеально для развития пластики и женственности.",
                difficulty: "medium",
                musicType: "R&B, Поп музыка",
                details: "https://9zalov.ru/directions/girly-hip-hop/",
                category: "female",
                level: "medium"
            },
            {
                id: 3,
                name: "Хай хилз (High Heels)",
                image: "/static/images/dances_style/high heels.jpg",
                origin: "США, 2010-е",
                description: "Сексуальный и женственный стиль, исполняемый на высоких каблуках. Включает элементы джаз-фанка, вога и хип-хопа. Развивает уверенность в себе и грациозность.",
                difficulty: "hard",
                musicType: "Поп, R&B, Хип-хоп",
                details: "https://www.divadance.ru/reports/r3high_heels_tanets_gougou_haihilz.htm",
                category: "female",
                level: "hard"
            },
            {
                id: 4,
                name: "Хорео (Choreo)",
                image: "/static/images/dances_style/choreo.jpg",
                origin: "США, 1990-е",
                description: "Современная хореография, объединяющая различные стили. Акцент на чистоте линий, музыкальности и постановочных номерах. Развивает артистизм и сценическое присутствие.",
                difficulty: "medium",
                musicType: "Разнообразная",
                details: "https://9zalov.ru/directions/choreo/",
                category: "contemporary",
                level: "medium"
            },
            {
                id: 5,
                name: "Джаз-фанк (Jazz Funk)",
                image: "/static/images/dances_style/jazz funk.jpg",
                origin: "США, 2000-е",
                description: "Энергичный стиль, сочетающий джазовую технику с элементами хип-хопа. Отличается резкими движениями, изоляцией и актерской игрой. Развивает координацию и музыкальность.",
                difficulty: "hard",
                musicType: "Поп, R&B, Фанк",
                details: "https://9zalov.ru/directions/dzhaz-fank/",
                category: "contemporary",
                level: "hard"
            },
            {
                id: 6,
                name: "Гёрли хорео (Girly Choreo)",
                image: "/static/images/dances_style/girly choreo.jpg",
                origin: "2020-е",
                description: "Женственное направление современной хореографии с элементами гёрли хип-хопа. Плавные, изящные движения с акцентом на женственность и выразительность.",
                difficulty: "medium",
                musicType: "Поп, R&B, Латина",
                details: "https://panthers.by/direction/11",
                category: "female",
                level: "easy"
            }
        ];
        let danceStylesContainer;
        let loadingElement;
        let filterButtons;
        let currentStyles = [];

        document.addEventListener('DOMContentLoaded', function() {
            danceStylesContainer = document.getElementById('dance-styles-container');
            loadingElement = document.getElementById('loading');
            filterButtons = document.querySelectorAll('.filter-btn');

            loadDanceStyles();

            setupFilterButtons();
        });

        function loadDanceStyles() {
            setTimeout(() => {
                currentStyles = danceStylesData;
                displayDanceStyles(currentStyles);
            }, 800);
        }

        function displayDanceStyles(styles) {
            loadingElement.style.display = 'none';
            danceStylesContainer.style.display = 'grid';

            danceStylesContainer.innerHTML = styles.map(style => `
                <div class="dance-style-card fade-in" data-category="${style.category}" data-level="${style.level}">
                    <div class="category-tag">${getCategoryName(style.category)}</div>
                    <div class="dance-image">
                        <img src="${style.image}" alt="${style.name}" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1518310383802-640d2cc3a9f7?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80'">
                        <div class="image-overlay"></div>
                    </div>
                    <div class="card-content">
                        <h3>${style.name}</h3>
                        <p class="dance-origin">Происхождение: ${style.origin}</p>
                        <p class="dance-description">${style.description}</p>
                        <a href="${style.details}" target="_blank" class="details-link" onclick="event.stopPropagation();">
                            Узнать больше о стиле
                        </a>
                        <div class="dance-details">
                            <span class="difficulty ${style.difficulty}">
                                ${getDifficultyText(style.difficulty)}
                            </span>
                            <span class="music-type">${style.musicType}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterStyles(category) {
            filterButtons.forEach(btn => {
                if (btn.textContent.includes(getCategoryName(category)) ||
                    (category === 'all' && btn.textContent === 'Все стили') ||
                    (category === 'beginner' && btn.textContent === 'Для начинающих')) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            let filtered;

            if (category === 'all') {
                filtered = danceStylesData;
            } else if (category === 'beginner') {
                filtered = danceStylesData.filter(style => style.level === 'easy');
            } else {
                filtered = danceStylesData.filter(style => style.category === category);
            }

            // Показываем анимацию загрузки
            danceStylesContainer.style.display = 'none';
            loadingElement.style.display = 'block';

            // Имитация загрузки фильтрованных данных
            setTimeout(() => {
                displayDanceStyles(filtered);
                // Прокручиваем к началу секции
                document.getElementById('styles').scrollIntoView({ behavior: 'smooth' });
            }, 300);
        }

        function setupFilterButtons() {
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Удаляем активный класс у всех кнопок
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Добавляем активный класс текущей кнопке
                    this.classList.add('active');
                });
            });
        }

        // Вспомогательные функции
        function getCategoryName(category) {
            const categories = {
                'street': 'Уличный',
                'female': 'Женственный',
                'contemporary': 'Современный',
                'all': 'Все'
            };
            return categories[category] || category;
        }

        function getDifficultyText(difficulty) {
            const map = {
                'easy': 'Начальный уровень',
                'medium': 'Средний уровень',
                'hard': 'Продвинутый уровень'
            };
            return map[difficulty] || difficulty;
        }

        window.filterStyles = filterStyles;
    </script>
</body>
</html>